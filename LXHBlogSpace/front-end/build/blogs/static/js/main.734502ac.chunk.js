(window["webpackJsonpblog-page"]=window["webpackJsonpblog-page"]||[]).push([[0],{273:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(9),i=a.n(l),c=(a(84),a(64)),m=(a(85),a(329)),r=a(56),s=a(47),u=a.n(s),g=(a(272),a(31)),d=a(18),h=a(35),p=a(36),f=a(19),v=a(42),E=a(319),y=a(320),C=a(65),b=a(321),N=a(331),w=a(318),S=a(327),x=a(328),k=a(333),P=a(322),D=a(326),O=a(323),T=a(330),j=a(334),B=a(59),L=a.n(B),H=a(60),F=a.n(H),M=(a(273),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).IndexZone=function(){return o.a.createElement(N.a,{value:a.state.currentTab,onChange:function(e,t){"main"===t&&(window.location="/")}.bind(Object(f.a)(a)),indicatorColor:"primary"},o.a.createElement(w.a,{className:"indexstyle-tabmod",label:"\u9996\u9875",value:"main"}),o.a.createElement(w.a,{className:"indexstyle-tabmod",label:"\u6587\u7ae0",value:"article"}))},a.state={srcStatusZone:o.a.createElement(o.a.Fragment,null),currentTab:"article",loginDialogOpenState:!1,noticeOpenState:!1,noticeMsg:""},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(E.a,{position:"fixed",style:{minWidth:960,background:"#f5f5f5"}},o.a.createElement(y.a,null,o.a.createElement(C.a,{className:"navstyle-title",variant:"h5"},"LXH's Blog Space"),o.a.createElement("div",{className:"navstyle-index"},this.IndexZone()),o.a.createElement("div",{className:"navstyle-status"},o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:"navstyle-button",onClick:this.ShowDialog.bind(this)},"\u767b\u5f55",o.a.createElement(L.a,{className:"navstyle-icon"})),o.a.createElement(b.a,{className:"navstyle-button",href:"/join"},"\u6ce8\u518c",o.a.createElement(F.a,{className:"navstyle-icon"})),o.a.createElement(k.a,{open:this.state.loginDialogOpenState,onClose:this.HideDialog.bind(this)},o.a.createElement(P.a,null,"\u767b\u5f55"),o.a.createElement(O.a,null,o.a.createElement("div",null,o.a.createElement(T.a,{id:"login-username",label:"\u7528\u6237\u540d\u6216\u90ae\u7bb1",type:"email",name:"email",autoComplete:"email",margin:"normal",style:{margin:"0 auto 0 auto",minWidth:"300px"}})),o.a.createElement("div",null,o.a.createElement(T.a,{id:"login-password",label:"\u5bc6\u7801",type:"password",name:"password",autoComplete:"password",margin:"normal",style:{marginTop:"15px",minWidth:"300px"}}))),o.a.createElement(D.a,null,o.a.createElement(b.a,{onClick:function(t){return e.DoLoginAction(t)}},"\u767b\u5f55"),o.a.createElement(b.a,{onClick:this.HideDialog.bind(this)},"\u5173\u95ed")),o.a.createElement(j.a,{open:this.state.noticeOpenState,onClose:this.setNoticeClose.bind(this),message:this.state.noticeMsg,autoHideDuration:3e3}))))))}},{key:"ShowDialog",value:function(){this.setState({loginDialogOpenState:!0}),console.log(this.state)}},{key:"HideDialog",value:function(){this.setState({loginDialogOpenState:!1})}},{key:"DoLoginAction",value:function(e){console.log(e);var t=new XMLHttpRequest;t.onreadystatechange=function(){if(302===t.status&&4===t.readyState)this.setState({noticeOpenState:!0,noticeMsg:"\u767b\u5f55\u6210\u529f"}),setTimeout(window.location.reload,1e3);else if(200===t.status&&4===t.readyState){var e=JSON.parse(t.responseText);this.setState({noticeOpenState:!0,noticeMsg:"\u767b\u5f55\u5931\u8d25\uff1a"+e.reason})}},t.open("POST","http://api.leaflxh.com/api/v1/passport/login",!0),t.send(null)}},{key:"setNoticeClose",value:function(){this.setState({noticeOpenState:!1})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/GetUserInfo").then((function(e){return e.json()}),(function(t){e.setState({srcStatusZone:e.LoginRegion()})})).then((function(e){e.vaild&&i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"navstyle-userZone"},o.a.createElement("div",{className:"navstyle-userId"},o.a.createElement(S.a,{href:"/user/"+e.name,underline:"none"},e.name)),o.a.createElement(x.a,{src:e.avatar}))),document.getElementsByClassName("navstyle-status")[0])}))}}]),t}(o.a.Component));function R(){for(var e=decodeURI(window.location.hash).substr(1),t=["h1","h2","h3","h4","h5"],a=0;a<t.length;a++)for(var n=document.getElementsByTagName(t[a]),o=0;o<n.length;o++){if(n[o].innerText===e)return void window.scrollTo(0,n[o].offsetTop-64);if(n[o].innerText===e.replace(/[-]+?/g,(function(){return" "})))return void window.scrollTo(0,n[o].offsetTop-64)}}function I(e){"a"===e.srcElement.localName&&window.location.hash===e.srcElement.hash&&window.location.hash.length>1&&R()}var W=function(){var e=o.a.useState("null"),t=Object(c.a)(e,2),a=t[0];return function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var a=t.responseText,n=new r.a({highlight:function(e,t){return t&&u.a.getLanguage(t)?u.a.highlight(t,e).value:e.replace(/[<]{1}?/g,"&lt;").replace(/[>]{1}?/g,"&gt;")}}).render(a);n=(n=n.replace(/<pre>([\0-\uFFFF]*?)<\/pre>/gm,(function(e,t){return null!==t.match(/.*?<code.*?/)?"<pre class='hljs'>"+t+"</pre>":e}))).replace(/<p>(.*?)<\/p>/gm,(function(e,t){return"<p>"+t.replace(/<code>/gm,"<code class='hljs unmarked-code'>")})),e(n),R()}},t.open("GET","/api/v1/GetBlogContent?blog=parse_three.md",!0),t.send(null)}(t[1]),window.onhashchange=R,document.body.onclick=I,o.a.createElement(o.a.Fragment,null,o.a.createElement(M,null),o.a.createElement(m.a,{fixed:!0,className:"blog-container",dangerouslySetInnerHTML:{__html:a},style:{minWidth:"800px",height:"auto",marginLeft:"auto",marginRight:"auto",background:"#f5f5f5",marginTop:"80px",width:"70%"}}))},G=a(61),Z=a.n(G),A=a(63),J=a.n(A),X=a(62),_=a.n(X),q=a(324),U=(a(279),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={voteNum:0,commentNum:0,dialogDisplayState:!1,noticeDiaplayState:!1,noticeMsg:"null",srcCommentBlock:o.a.createElement(o.a.Fragment,null)},a.currentCommentPage=1,a.maxCommentPage=1,a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"ShowDialog",value:function(){this.setState({srcCommentBlock:o.a.createElement("div",null,"\u8bc4\u8bba\u52a0\u8f7d\u4e2d"),dialogDisplayState:!0}),this.currentCommentPage=1,this.maxCommentPage=1,this.RetriveComment()}},{key:"HideDialog",value:function(){this.setState({dialogDisplayState:!1})}},{key:"onClickSendComment",value:function(){this.setState({noticeDiaplayState:!0,noticeMsg:"\u53d1\u8868\u6210\u529f"})}},{key:"HideNotice",value:function(){this.setState({noticeDiaplayState:!1})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:"func-button"},o.a.createElement(Z.a,null),o.a.createElement("div",{className:"button-label"},this.state.voteNum,"\xa0\u8d5e\u540c")),o.a.createElement(b.a,{className:"func-button",onClick:this.ShowDialog.bind(this)},o.a.createElement(_.a,null),o.a.createElement("div",{className:"button-label"},this.state.commentNum,"\xa0\u8bc4\u8bba")),o.a.createElement(b.a,{className:"func-button"},o.a.createElement(J.a,null),o.a.createElement("div",{className:"button-label"},"\u6dfb\u52a0\u6536\u85cf")),o.a.createElement(k.a,{open:this.state.dialogDisplayState,onClose:this.HideDialog.bind(this),maxWidth:"false"},o.a.createElement(P.a,null,"\u672c\u6587\u7ae0\u7684\u8bc4\u8bba\u533a"),o.a.createElement(O.a,{style:{borderTop:"1px solid gray",borderBottom:"1px solid gray",marginLeft:"5px",marginRight:"5px"}},o.a.createElement("div",null,o.a.createElement(m.a,{fixed:!0,className:"comment-container"},this.state.srcCommentBlock))),o.a.createElement(D.a,{style:{display:"flex",marginLeft:"20px",marginRight:"20px"}},o.a.createElement(q.a,{placeholder:"\u53cb\u5584\u662f\u4ea4\u6d41\u7684\u8d77\u70b9",multiline:!1,style:{flexGrow:1}}),o.a.createElement(b.a,{onClick:this.onClickSendComment.bind(this)},"\u53d1\u8868")),o.a.createElement(j.a,{open:this.state.noticeDiaplayState,onClose:this.HideNotice.bind(this),message:this.state.noticeMsg,autoHideDuration:3e3})))}},{key:"GenCommentBlock",value:function(e){return e.map((function(e,t){return""!==e.re?o.a.createElement("div",{className:"comment-block"},o.a.createElement("div",{className:"comment-user-info"},o.a.createElement(x.a,{src:e.avatar}),o.a.createElement("div",{className:"comment-post-user"},e.username),o.a.createElement("div",{className:"comment-reply-user"},"Re: ",e.re)),o.a.createElement("div",{className:"comment-content"},e.comment),o.a.createElement("div",{className:"comment-footer"},o.a.createElement("div",{className:"comment-footer-time"},e.time),o.a.createElement("div",{className:"comment-footer-reply"},"\u56de\u590d"))):o.a.createElement("div",{className:"comment-block"},o.a.createElement("div",{className:"comment-user-info"},o.a.createElement(x.a,{src:e.avatar}),o.a.createElement("div",{className:"comment-post-user"},e.username)),o.a.createElement("div",{className:"comment-content"},e.comment),o.a.createElement("div",{className:"comment-footer"},o.a.createElement("div",{className:"comment-footer-time"},e.time),o.a.createElement("div",{className:"comment-footer-reply"},"\u56de\u590d")))}))}},{key:"SwitchCommentPage",value:function(e){this.currentCommentPage="left"===e?this.currentCommentPage-1:"right"===e?this.currentCommentPage+1:e,this.RetriveComment()}},{key:"RetriveComment",value:function(){var e=this;fetch("/api/v1/GetComments?page="+this.currentCommentPage).then((function(e){return e.json()})).then((function(t){if(e.maxCommentPage=t.maxPageNum,t.commentList!==[]){var a=[];if(console.log(t.maxPageNum),console.log(e.currentCommentPage),console.log("================================="),e.maxCommentPage>4)if(t.maxPageNum-e.currentCommentPage>2){console.log(t.maxPageNum),console.log(e.currentCommentPage);for(var n=0;n<3;n++)a[n]=e.currentCommentPage+n;a.push("---"),a.push(t.maxPageNum)}else for(a[0]=1,a[1]="---",n=1;n<=3;n++)a.push(t.maxPageNum-(3-n));else for(var l=0;l<t.maxPageNum;++l)a[l]=l+1;1!==e.currentCommentPage&&a.push("\u4e0a\u4e00\u9875"),e.currentCommentPage!==e.maxCommentPage&&a.push("\u4e0b\u4e00\u9875"),e.setState({srcCommentBlock:o.a.createElement(o.a.Fragment,null,e.GenCommentBlock(t.commentList),o.a.createElement("div",{style:{width:"100%",textAlign:"center"}},a.map((function(t){return"---"===t?o.a.createElement(b.a,{disabled:!0},t):"\u4e0b\u4e00\u9875"===t?o.a.createElement(b.a,{onClick:function(t){return e.SwitchCommentPage("right")}},t):"\u4e0a\u4e00\u9875"===t?o.a.createElement(b.a,{onClick:function(t){return e.SwitchCommentPage("left")}},t):e.currentCommentPage===t?o.a.createElement(b.a,{className:"page-button-selected",onClick:function(a){return e.SwitchCommentPage(t)}},t):o.a.createElement(b.a,{className:"page-button",onClick:function(a){return e.SwitchCommentPage(t)}},t)}))))})}else e.setState({srcCommentBlock:o.a.createElement("div",null,"\u6682\u65f6\u8fd8\u6ca1\u6709\u8bc4\u8bba")})}))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(){var e=document.getElementsByClassName("blog-container")[0],t=e.offsetLeft+e.offsetWidth+20,a=document.getElementById("function-buttons");a.style.position="fixed",a.style.top="80px",a.style.left=t+"px"}i.a.render(o.a.createElement(W,null),document.getElementById("app-main")),i.a.render(o.a.createElement(U,null),document.getElementById("function-buttons")),window.onload=z,window.onresize=z,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},79:function(e,t,a){e.exports=a(280)},84:function(e,t,a){},85:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.734502ac.chunk.js.map