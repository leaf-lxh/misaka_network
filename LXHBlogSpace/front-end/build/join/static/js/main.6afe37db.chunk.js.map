{"version":3,"sources":["components/Navbar.js","components/RegisterContainer.js","components/Footer.js","index.js"],"names":["NavBar","props","IndexZone","Tabs","value","state","currentTab","onChange","event","newTab","window","location","bind","indicatorColor","Tab","className","label","srcStatusZone","loginDialogOpenState","noticeOpenState","noticeMsg","AppBar","position","style","minWidth","background","zIndex","Typography","variant","this","Button","onClick","ShowDialog","Dialog","open","onClose","HideDialog","DialogTitle","DialogContent","TextField","id","type","name","autoComplete","margin","marginTop","DoLoginAction","Snackbar","setNoticeClose","message","autoHideDuration","setState","console","log","request","XMLHttpRequest","onreadystatechange","status","readyState","setTimeout","reload","response","JSON","parse","responseText","reason","API_PROVIDER_SERVER","send","fetch","then","json","error","LoginRegion","userinfo","vaild","React","Component","RegisterContainer","notice_username","notice_username_style","notice_password","notice_notice_password_style","notice_email","notice_email_style","notice_emailcode","notice_emailcode_style","Container","fixed","InputLabel","Input","disableUnderline","classes","focused","Footer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6afe37db.chunk.js","sourcesContent":["import React from 'react';\n\nimport AppBar from '@material-ui/core/AppBar'\nimport ToolBar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\n/*\nimport Link from '@material-ui/core/Link'\nimport Avatar from '@material-ui/core/Avatar';\n*/\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport DialogAction from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\n\nimport TextField from \"@material-ui/core/TextField\"\n\nimport Snackbar from '@material-ui/core/Snackbar'\n\n\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\n//import AssignmentIcon from '@material-ui/icons/Assignment'\n\nimport \"./css/Navbar.css\"\n\nvar API_PROVIDER_SERVER = \"http://api.leaflxh.com\";\n\n\n//以下为重构的代码\nclass NavBar extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            srcStatusZone: <></>,\n            currentTab: \"register\",\n            loginDialogOpenState: false,\n            noticeOpenState: false,\n            noticeMsg: \"\"\n        }\n    }\n\n    render()\n    {\n        return(\n            <AppBar position=\"fixed\" style={{minWidth: 960, background: \"#f5f5f5\", zIndex: 1201}}>\n                <ToolBar >\n                    <Typography className =\"navstyle-title\" variant=\"h5\">\n                        LXH's Blog Space\n                    </Typography>\n                    <div className=\"navstyle-index\">\n                        {this.IndexZone()}\n                    </div>\n                    <div className=\"navstyle-status\">\n                        <>\n                            <Button className= \"navstyle-button\" onClick={this.ShowDialog.bind(this)}>\n                                登录\n                                <AccountBoxIcon className=\"navstyle-icon\" />\n                            </Button>\n                            <Dialog open={this.state.loginDialogOpenState} onClose={this.HideDialog.bind(this)}>\n                                <DialogTitle>登录</DialogTitle>\n                                <DialogContent >\n                                    <div>\n                                        <TextField\n                                            id=\"login-username\"\n                                            label=\"用户名或邮箱\"\n                                            type=\"email\"\n                                            name=\"email\"\n                                            autoComplete=\"email\"\n                                            margin=\"normal\"\n                                            style={{margin: \"0 auto 0 auto\", minWidth: \"300px\"}}\n                                        />\n                                    </div>\n                                    <div>\n                                        <TextField\n                                            id=\"login-password\"\n                                            label=\"密码\"\n                                            type=\"password\"\n                                            name=\"password\"\n                                            autoComplete=\"password\"\n                                            margin=\"normal\"\n                                            style={{marginTop: \"15px\", minWidth: \"300px\"}}\n                                        />\n                                    </div>\n                                </DialogContent>\n                                <DialogAction>\n                                    <Button onClick={props=>this.DoLoginAction(props)}>登录</Button>\n                                    <Button onClick={this.HideDialog.bind(this)}>关闭</Button>\n                                </DialogAction>\n                                <Snackbar  open={this.state.noticeOpenState} onClose={this.setNoticeClose.bind(this)} message={this.state.noticeMsg} autoHideDuration={3000} />\n                            </Dialog>\n                        </>\n                    </div>\n                </ToolBar>\n            </AppBar>\n        )\n    }\n\n    ShowDialog()\n    {\n        this.setState({\n            loginDialogOpenState: true\n        })\n        console.log(this.state);\n    }\n    \n    HideDialog()\n    {\n        this.setState({\n            loginDialogOpenState: false\n        })\n        \n    }\n\n\n    DoLoginAction(props)\n    {\n        console.log(props);\n        var request = new XMLHttpRequest();\n        request.onreadystatechange = function() {\n            if (request.status === 302 && request.readyState === 4)\n            {\n                this.setState({\n                    noticeOpenState: true,\n                    noticeMsg: \"登录成功\"\n                })\n\n                setTimeout(window.location.reload, 1000);\n            }\n            else if (request.status === 200 && request.readyState === 4)\n            {\n                var response = JSON.parse(request.responseText);\n                this.setState({\n                    noticeOpenState: true,\n                    noticeMsg: \"登录失败：\" + response.reason\n                })\n            }\n        }\n        request.open(\"POST\", API_PROVIDER_SERVER + \"/api/v1/passport/login\", true)\n        request.send(null);\n    }\n\n    IndexZone = () => {\n        function handleChange(event, newTab) {\n            if (newTab === \"main\")\n            {\n                window.location = \"/\";\n            }\n        };\n    \n        return(\n            <Tabs value = {this.state.currentTab} onChange={handleChange.bind(this)} indicatorColor=\"primary\" >\n                <Tab className=\"indexstyle-tabmod\" label=\"首页\"  value=\"main\"/>\n                <Tab className=\"indexstyle-tabmod\" label=\"用户注册\"  value=\"register\" />\n                \n            </Tabs>\n        );\n    }\n\n    setNoticeClose()\n    {\n        this.setState({\n            noticeOpenState: false\n        })\n    }\n\n\n    componentDidMount()\n    {\n        //初始化右边的状态栏，流程为：检查是否登录，如果是则显示用户信息，否则显示登录按钮\n        fetch(\"/api/v1/GetUserInfo\")\n            .then(response=>response.json(), (error) => {\n                this.setState({\n                    srcStatusZone: this.LoginRegion()\n                });\n            })\n            .then((userinfo)=>{\n                if (userinfo.vaild)\n                {\n                    window.location = \"/\";                        \n                }\n            });\n    }\n};\n\nexport default NavBar;","import React from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport \"./css/RegisterContainer.css\"\n\nimport Button from \"@material-ui/core/Button\"\nimport Input from \"@material-ui/core/Input\"\nimport InputLabel from \"@material-ui/core/InputLabel\"\n\nclass RegisterContainer extends React.Component{\n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            notice_username: \"小于10个字符, 并且唯一\",\n            notice_username_style: \"register-inputnotice\",\n\n            notice_password: \"长度为8-15位，需包含字母和数字，可添加下划线\",\n            notice_notice_password_style: \"register-inputnotice\",\n\n            notice_email: \"仅支持腾讯，网易，新浪，谷歌邮箱\",\n            notice_email_style: \"register-inputnotice\",\n\n            notice_emailcode: \"\",\n            notice_emailcode_style: \"register-inputnotice\"\n        };\n    }\n\n    render()\n    {\n        return (\n            <Container fixed className=\"register-container\">\n                <InputLabel className=\"register-inputlabel\">用户名</InputLabel>\n                <div className=\"input-region\">\n                    <Input id=\"input-username\" className=\"register-input\" disableUnderline classes={{focused: 'focused'}}></Input>\n                    <InputLabel className={this.state.notice_username_style} variant=\"filled\">{this.state.notice_username}</InputLabel>\n                </div>\n\n                <InputLabel className=\"register-inputlabel\">密码</InputLabel>\n                <div className=\"input-region\">\n                    <Input id=\"input-password\" className=\"register-input\" disableUnderline classes={{focused: 'focused'}} type=\"password\"></Input>\n                    <InputLabel className={this.state.notice_notice_password_style} variant=\"filled\">{this.state.notice_password}</InputLabel>\n                </div>\n\n                <InputLabel className=\"register-inputlabel\">邮箱</InputLabel>\n                <div className=\"input-region\">\n                    <Input id=\"input-email\" className=\"register-input\" disableUnderline classes={{focused: 'focused'}}></Input>\n                    <InputLabel className={this.state.notice_email_style} variant=\"filled\">{this.state.notice_email}</InputLabel>\n                </div>\n\n                <InputLabel className=\"register-inputlabel\">邮箱验证码</InputLabel>\n                <div className=\"input-region\">\n                    <Input id=\"input-emailcode\" className=\"register-input\" disableUnderline classes={{focused: 'focused'}}></Input>\n                    <Button className=\"register-emailcode-button\">获取验证码</Button>\n                </div>\n                <div className=\"register-submit\">\n                    <Button className=\"register-submit-button\">注册</Button>\n                </div>\n                \n            </Container>\n        )\n    }\n}\n\nexport default RegisterContainer;","import React from \"react\"\n\nimport \"./css/Footer.css\"\nclass Footer extends React.Component\n{\n    render()\n    {\n        return (\n            <div className=\"site-footer\">\n                <div>\n                    Powered by React, material-ui, and lxh's tinyHttpd. \n                </div>\n                <div>\n                    ©2019&nbsp;&nbsp;LXHBlogSapce\n                </div>\n                &nbsp;&nbsp;\n            </div>\n        )\n    }\n}\n\nexport default Footer;","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport  Navbar from \"./components/Navbar\"\nimport RegiserContainer from \"./components/RegisterContainer\"\nimport Footer from \"./components/Footer\"\n\nReactDOM.render(<Navbar />, document.getElementById(\"navbar\"));\nReactDOM.render(<RegiserContainer />, document.getElementById(\"register-area\"));\nReactDOM.render(<Footer />, document.getElementById(\"footer\"));"],"sourceRoot":""}